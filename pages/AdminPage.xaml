<Page x:Class="WPF_Payment_Project.Pages.AdminPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð°"
      Loaded="Page_Loaded">

    <Grid Background="{DynamicResource BackgroundBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header Section -->
        <Border Grid.Row="0" 
                Background="{DynamicResource SurfaceBrush}"
                BorderThickness="0,0,0,1"
                BorderBrush="{DynamicResource BorderBrush}">
            <Grid Margin="24,20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0">
                    <TextBlock x:Name="txtWelcome"
                               FontSize="24"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBlock x:Name="txtRole"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,4,0,0"/>
                </StackPanel>

                <Button x:Name="btnLogout"
                        Grid.Column="1"
                        Content="Ð’Ñ‹Ñ…Ð¾Ð´"
                        Width="100"
                        Height="36"
                        Click="btnLogout_Click"
                        Style="{DynamicResource SecondaryButtonStyle}"/>
            </Grid>
        </Border>

        <!-- Statistics Cards -->
        <Grid Grid.Row="1" Margin="24,20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Users Card -->
            <Border Grid.Column="0" 
                    Background="{DynamicResource SurfaceBrush}"
                    CornerRadius="8"
                    Margin="0,0,12,0">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="10" ShadowDepth="0" 
                                      Color="{DynamicResource ShadowColor}" Opacity="0.1"/>
                </Border.Effect>
                <Grid Margin="20,16">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <TextBlock Text="ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸"
                               FontSize="13"
                               Foreground="{DynamicResource TextSecondaryBrush}"/>
                    <TextBlock x:Name="txtTotalUsers"
                               Grid.Row="1"
                               Text="0"
                               FontSize="28"
                               FontWeight="Bold"
                               Foreground="{DynamicResource PrimaryBrush}"
                               Margin="0,8,0,0"/>
                </Grid>
            </Border>

            <!-- Payments Card -->
            <Border Grid.Column="1" 
                    Background="{DynamicResource SurfaceBrush}"
                    CornerRadius="8"
                    Margin="6,0">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="10" ShadowDepth="0" 
                                      Color="{DynamicResource ShadowColor}" Opacity="0.1"/>
                </Border.Effect>
                <Grid Margin="20,16">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <TextBlock Text="ÐŸÐ»Ð°Ñ‚ÐµÐ¶Ð¸"
                               FontSize="13"
                               Foreground="{DynamicResource TextSecondaryBrush}"/>
                    <TextBlock x:Name="txtTotalPayments"
                               Grid.Row="1"
                               Text="0"
                               FontSize="28"
                               FontWeight="Bold"
                               Foreground="{DynamicResource AccentBrush}"
                               Margin="0,8,0,0"/>
                </Grid>
            </Border>

            <!-- Categories Card -->
            <Border Grid.Column="2" 
                    Background="{DynamicResource SurfaceBrush}"
                    CornerRadius="8"
                    Margin="6,0">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="10" ShadowDepth="0" 
                                      Color="{DynamicResource ShadowColor}" Opacity="0.1"/>
                </Border.Effect>
                <Grid Margin="20,16">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <TextBlock Text="ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸"
                               FontSize="13"
                               Foreground="{DynamicResource TextSecondaryBrush}"/>
                    <TextBlock x:Name="txtTotalCategories"
                               Grid.Row="1"
                               Text="0"
                               FontSize="28"
                               FontWeight="Bold"
                               Foreground="{DynamicResource WarningBrush}"
                               Margin="0,8,0,0"/>
                </Grid>
            </Border>

            <!-- Total Sum Card -->
            <Border Grid.Column="3" 
                    Background="{DynamicResource SurfaceBrush}"
                    CornerRadius="8"
                    Margin="12,0,0,0">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="10" ShadowDepth="0" 
                                      Color="{DynamicResource ShadowColor}" Opacity="0.1"/>
                </Border.Effect>
                <Grid Margin="20,16">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <TextBlock Text="ÐžÐ±Ñ‰Ð°Ñ ÑÑƒÐ¼Ð¼Ð°"
                               FontSize="13"
                               Foreground="{DynamicResource TextSecondaryBrush}"/>
                    <TextBlock x:Name="txtTotalSum"
                               Grid.Row="1"
                               Text="0 Ñ€ÑƒÐ±."
                               FontSize="20"
                               FontWeight="Bold"
                               Foreground="{DynamicResource DangerBrush}"
                               Margin="0,8,0,0"/>
                </Grid>
            </Border>
        </Grid>

        <!-- Main Content Area -->
        <Grid Grid.Row="2" Margin="24,0,24,24">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="200"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Navigation Panel -->
            <Border Grid.Column="0" 
                    Background="{DynamicResource SurfaceBrush}"
                    CornerRadius="8"
                    Margin="0,0,16,0">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="10" ShadowDepth="0" 
                                      Color="{DynamicResource ShadowColor}" Opacity="0.1"/>
                </Border.Effect>
                
                <StackPanel Margin="16">
                    <TextBlock Text="Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ"
                               FontSize="12"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,16"/>
                    
                    <Button x:Name="btnManageUsers"
                            Content="ðŸ‘¥ ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸"
                            Height="44"
                            Margin="0,0,0,8"
                            HorizontalContentAlignment="Left"
                            Padding="12,0"
                            Click="btnManageUsers_Click"
                            Style="{DynamicResource SecondaryButtonStyle}"/>
                    
                    <Button x:Name="btnManagePayments"
                            Content="ðŸ’³ ÐŸÐ»Ð°Ñ‚ÐµÐ¶Ð¸"
                            Height="44"
                            Margin="0,0,0,8"
                            HorizontalContentAlignment="Left"
                            Padding="12,0"
                            Click="btnManagePayments_Click"
                            Style="{DynamicResource SecondaryButtonStyle}"/>
                    
                    <Button x:Name="btnManageCategories"
                            Content="ðŸ“ ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸"
                            Height="44"
                            Margin="0,0,0,24"
                            HorizontalContentAlignment="Left"
                            Padding="12,0"
                            Click="btnManageCategories_Click"
                            Style="{DynamicResource SecondaryButtonStyle}"/>

                    <TextBlock Text="ÐžÑ‚Ñ‡ÐµÑ‚Ñ‹"
                               FontSize="12"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,16"/>
                    
                    <Button x:Name="btnViewDiagrams"
                            Content="ðŸ“Š Ð”Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð¼Ñ‹"
                            Height="44"
                            Margin="0,0,0,8"
                            HorizontalContentAlignment="Left"
                            Padding="12,0"
                            Click="btnViewDiagrams_Click"
                            Style="{DynamicResource SecondaryButtonStyle}"/>
                    
                    <Button x:Name="btnExportReports"
                            Content="ðŸ“„ Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚"
                            Height="44"
                            HorizontalContentAlignment="Left"
                            Padding="12,0"
                            Click="btnExportReports_Click"
                            Style="{DynamicResource SecondaryButtonStyle}"/>
                </StackPanel>
            </Border>

            <!-- Content Area -->
            <Border Grid.Column="1" 
                    Background="{DynamicResource SurfaceBrush}"
                    CornerRadius="8">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="10" ShadowDepth="0" 
                                      Color="{DynamicResource ShadowColor}" Opacity="0.1"/>
                </Border.Effect>
                
                <TabControl x:Name="tabControl"
                            SelectionChanged="tabControl_SelectionChanged"
                            Margin="16">
                    <TabItem Header="ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸">
                        <Frame x:Name="frameContent" NavigationUIVisibility="Hidden"/>
                    </TabItem>
                    <TabItem Header="ÐŸÐ»Ð°Ñ‚ÐµÐ¶Ð¸"/>
                    <TabItem Header="ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸"/>
                </TabControl>
            </Border>
        </Grid>

        <!-- Status Bar -->
        <Border Grid.Row="2" 
                VerticalAlignment="Bottom"
                Background="{DynamicResource SurfaceBrush}"
                BorderThickness="0,1,0,0"
                BorderBrush="{DynamicResource BorderBrush}">
            <TextBlock x:Name="txtLastActivity"
                       Text="ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÑÑ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ: -"
                       FontSize="12"
                       Foreground="{DynamicResource TextSecondaryBrush}"
                       Margin="24,8"/>
        </Border>
    </Grid>
</Page>
